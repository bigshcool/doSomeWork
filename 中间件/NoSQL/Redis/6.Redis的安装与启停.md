# Redis软件的安装与启停

## 1.准备好gcc与gcc-c++环境

## 2. 官方下载

[Download | Redis](https://redis.io/download/)

![image-20221127164953207](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221127164953207.png)

### 3. 安装目录

mkdir  -r /opt/tools 并且将tar包上传

![image-20221127165304457](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221127165304457.png)

## 4. 安装

- 解压

  ```sh
  tar -zxvf redis-7.0.5.tar.gz -C /opt/apps
  
  -z:是否同时具有 gzip 的属性？亦即是否需要用 gzip 压缩？
  -x:解开一个压缩文件的参数指令！
  -v:压缩的过程中显示文件！这个常用，但不建议用在背景执行过程!
  -f:指定的是文件
  -C:指定解决目录
  ```


- 编译

  ```
  cd /opt/apps/redis-7.0.5
  
  sudo make
  ```

![image-20221127200621913](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221127200621913.png)

- 安装

```sh
sudo make install
```

![image-20221127200704071](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221127200704071.png)

- 查看安装结果

![image-20221127201105104](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221127201105104.png)

- 查看是否是全局命令

```sh
echo $PATH
```

![image-20221127201233142](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221127201233142.png)

## 5.Redis启动与停止

- 前台启动

  ```sh
  # 直接输入redis-server
  redis-server
  # 按ctrl+c
  直接退出
  ```

![image-20221127201452083](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221127201452083.png)

- 后台启动(也不建议)

```
# 使用nohup
nohup redis-server &
```

![image-20221127201938711](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221127201938711.png)

```sh
redis-cli shutdown
```

![image-20221127203059438](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221127203059438.png)

- 守护进程式启动（推荐）

```sh
# 进入安装目录
cd /opt/apps/redis-7.0.5

# 打开redis.conf配置文件
vi redis.conf
```

**找到daemonize no**

![image-20221127202524904](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221127202524904.png)

**deamonize no**改为**deamonize yes**

![image-20221127202806143](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221127202806143.png)

```sh
# 再次启动
redis-server /opt/apps/redis-7.0.5/redis.conf
```

![image-20221127203315028](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221127203315028.png)