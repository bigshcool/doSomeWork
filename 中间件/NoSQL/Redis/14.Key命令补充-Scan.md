# Key命令补充-Scan

- 格式：SCAN cursor 【MATCH pattern】【COUNT count】【TYPE type】

- 功能：用于迭代数据库中的数据库键。
  其各个选项的意义为： 

  - cursor::本次迭代开始的游标。 
  - pattern:本次迭代要匹配的key的模式。 
  - cout:本次迭代要从数据集里返回多少元素，默认值为10。（**必须有的**）
  - type:本次迭代要返回的value的类型，默认为所有类型。 

  SCAN命令是一个基于游标cursor的迭代器:SCAN命令每次被调用之后，都会向用 户返回返回一个包含两个元素的数组，第一个元素是用于进行下一次迭代的新游标， 而第二个元素则是一个数组，这个数组中包含了所有被迭代的元素。用户在下次迭代 时需要使用这个新游标作为SCAN命令的游标参数，以此来延续之前的迭代过程。当 SCAN命令的游标参数被设置为0时，服务器将开始一次新的迭代。如果新游标返回 表示迭代己结束。 

- 说明：**使用间断的、负数、超出范围或者其他非正常的游标来执行增量式迭代不会造成服务器崩溃**。当数据量很大时，count的数量的指定可能会不起作用，Redis会自动调整每次的遍 历数目。**由于scan命令每次执行都只会返回少量元素，所以该命令可以用于生产环境， 而不会出现像KEYS命令带来的服务器阻塞问题**。
  同样的还有hscan，zscan，lscan

![image-20221129233504550](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221129233504550.png)