# List型value操作命令

​	Redis存储数据的Value可以是一个**String列表类型数据**，即该列表中的每个元素均为String类型数据。列表中的数据会按照插入顺序进行排序。不过，该列表的底层实际是一个**无头节点的双向链表**，所以对列表表头和表尾的操作性能较高，但是对中间元素的插入与删除的操作的性能相对较差。



### 1.lpush/rpush

- 格式:LPUSH key value [value ...] 或者 RPUSH key value [value ...]
- 功能:将一个或者多个值value插入列表key的表头/表尾(表头在做表尾在右)
- 说明:如果有多个value值，对于lpush来说，各个value会按照从左到右的顺序一次插入到表头；对于rpush来说，各个value会按照从左到右的顺序依次插入到表尾。如果key不存在，一个空列表会被创建并执行操作，如果key存在但不是列表类型时，返回一个错误，执行成功时返回列表的长度。

![image-20221210215134735](https://raw.githubusercontent.com/bigshcool/myPic/main/image-20221210215134735.png)



### 2.llen

- 格式:llen key
- 功能:返回一个list类型key的长度



### 3.lindex

- 格式：lindex key index
- 功能: 根据index获取key所在位置index的值



### 4. lrange

- 格式: lrange key start stop 
- 功能：遍历key[start:stop]元素



### 5. lset

- 格式: lset key index value
- 功能: 设置key的index元素的值



### 6.linsert

- 格式:LINSERT key BEFORE|AFTER pivot value

- 功能:在key前面或者后面插入元素



### 7. lpop/rpop

- 格式:lpop/rpop key [count]
- 功能:从列表key的表头/表尾移除count个元素，并返回移除的元素。count默认值是1



### 8.blpop/brpop

- 格式: blpop key [key...] timeout 或者 brpop key [key...] timeout
- 功能: blpop/brpop是列表的阻塞式弹出命令，他是lpop/rpop命令的阻塞版本，当给定列表内没有任何元素可供弹出时，连接将被blpop/brpop命令阻塞，直到等待timeout超时或者发现弹出元素为止。当给定多个key的先后顺序依次检查各个列表，弹出第一个非空列表的头元素。timeout为阻塞时长，单位为秒，其值若为0，则一直阻塞。



###  9.rpoplpush

- 格式:brpoplpush source destination 
- 功能：命令rpoplpush在一个原子时间内，执行以下两个动作。
  - 将列表source中的最后一个元素（尾元素）弹出，并且返回给客户端
  - 将source弹出的元素插入到列表desstination，作为destination列表的头元素
- 如果source不存在，值将被返回，如果source和destination相同，则列表中的表尾元素移动到表头，并返回元素，可以把这种特殊情况视作列表的旋转(rotation)操作



### 10. brpoplpush

- 格式:格式:brpoplpush source destination timeout
- 功能:阻塞版本的rpoplpush



### 11.lrem

- 格式：lrem key count element
- 功能:移除key中的count个element 
- 说明;count可以为负数，则是从后往前



### 12. ltrim

- 格式 :ltrim cities start stop
- 功能:截取字串